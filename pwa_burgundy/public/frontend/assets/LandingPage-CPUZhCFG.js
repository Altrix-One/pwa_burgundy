var w=(f,h,a)=>new Promise((_,p)=>{var v=r=>{try{c(a.next(r))}catch(m){p(m)}},y=r=>{try{c(a.throw(r))}catch(m){p(m)}},c=r=>r.done?_(r.value):Promise.resolve(r.value).then(v,y);c((a=a.apply(f,h)).next())});import{m as S,r as l,n as j,z as q,a as n,b as s,d as i,u as d,w as I,F as C,q as $,j as F,k as M,o as u,_ as x,t as b,i as B,x as D,y as R}from"./index-W_lnXAtG.js";import{f as T,U}from"./User-DRURSIwv.js";import{_ as H}from"./FormControl.vue_vue_type_script_setup_true_lang-DwYvdCJj.js";import{l as O,a as J,r as Q,b as k}from"./formStore-DlFuB_8v.js";import"./Avatar.vue_vue_type_script_setup_true_lang-BYVCYYui.js";import"./Popover-D9lPCEKX.js";import"./TextInput.vue_vue_type_script_setup_true_lang-CdzQ2H2L.js";const V=f=>(D("data-v-92473dfa"),f=f(),R(),f),A={class:"w-full sm:w-96 bg-gray-100 flex justify-center h-screen"},G={class:"w-full flex flex-col"},K={class:"w-full sm:w-96 bg-white h-14 shadow-lg fixed top-0 z-10"},W={class:"p-2 flex pt-3"},X={class:"relative w-full"},Y={key:0,class:"absolute left-[1rem] right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-20"},Z=["onClick"],ee={class:"text-[14px] font-medium truncate"},te={class:"text-[12px] text-gray-600 truncate"},se=V(()=>s("hr",null,null,-1)),oe={class:"w-full flex justify-end"},ae={class:"p-1 pr-4 mb-2"},re={class:"mt-14 w-full h-full"},le={class:"p-4"},ce=V(()=>s("p",{class:"font-medium text-xl pl-1 text-gray-600"},"Quick Link",-1)),ne={class:"bg-white h-[28rem] w-full rounded-lg mt-2 overflow-y-auto no-scrollbar p-2"},ie=["onClick"],de={class:"text-gray-600 pl-3 truncate w-[8rem]"},ue=["onClick"],pe={key:0,class:"fixed bottom-[4rem] leading-5 pr-[60rem] pl-[2.5rem] z-50 w-[20rem] sm:w-96 animate-slide-in"},ve={class:"rounded w-[20rem] h-fit p-2 text-left bg-red-200 text-red-500"},me={class:"flex"},fe={class:"h-full"},he=["innerHTML"],_e={__name:"LandingPage",setup(f){const h=O(),a=l(h.links);j(()=>w(this,null,function*(){const t=yield J();if(t){Object.values(t.data).forEach(o=>{a.value.some(P=>P.doctype===o.doctype_name)||(a.value.push({frm:o.form_name,doctype:o.doctype_name}),h.setLinks(a.value))});const e=l([...a.value]);v.value=e.value}else T.form_list.forEach(e=>{a.value.some(g=>g.doctype===e.doctype_name)||(a.value.push({frm:e.form_name,doctype:e.doctype_name}),h.setLinks(a.value))})}));const _=l(""),p=l(!1),v=l(h.options),y=M();l(""),l("");const c=l(),r=l(!1);Q();const m=l([...a.value]);v.value=m.value,q(_,t=>{m.value=a.value.filter(e=>e.doctype.toLowerCase().includes(t.toLowerCase())||e.frm.toLowerCase().includes(t.toLowerCase())),v.value=m.value});const E=()=>{r.value=!1},L=t=>w(this,null,function*(){_.value=t.doctype;try{const e=yield k(t.doctype);e.error?(c.value=e.error,r.value=!0):e.success&&y.push({name:"ListPage",query:{frmname:t.frm,doctype:t.doctype}})}catch(e){console.error(e)}p.value=!1}),z=t=>w(this,null,function*(){try{const e=yield k(t.doctype);e.error?(c.value=e.error,r.value=!0):e.success&&y.push({name:"ListPage",query:{frmname:t.frm,doctype:t.doctype}})}catch(e){console.error(e)}}),N=t=>w(this,null,function*(){try{const e=yield k(t.doctype);e.error?(c.value=e.error,r.value=!0):e.success&&y.push({name:"Form",query:{frmname:t.frm,doctype:t.doctype}})}catch(e){console.error(e)}});return document.addEventListener("click",t=>{t.target.closest(".relative")||(p.value=!1)}),(t,e)=>(u(),n("div",A,[s("div",G,[s("div",K,[s("div",W,[i(d(x),{class:"w-6 h-6 mt-1 text-gray-600 hover:text-black",name:"list"}),s("div",X,[i(d(H),{type:"text",size:"sm",variant:"subtle",placeholder:"Search...",disabled:!1,modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=o=>_.value=o),onFocus:e[1]||(e[1]=o=>p.value=!0),class:"flex-grow pl-4 w-full pt-[3px]"},{prefix:I(()=>[i(d(x),{class:"w-4",name:"search"})]),_:1},8,["modelValue"]),p.value?(u(),n("div",Y,[v.value.length>0?(u(!0),n(C,{key:0},$(v.value,o=>(u(),n("div",{key:o,class:"p-2 hover:bg-gray-200 cursor-pointer",onClick:g=>L(o)},[s("p",ee,b(o.doctype),1),s("p",te,b(o.frm),1),se],8,Z))),128)):(u(),n("div",{key:1,class:"p-2 hover:bg-gray-200 cursor-pointer text-[12px] text-gray-600",onClick:e[2]||(e[2]=o=>L(t.option))}," No Record Found "))])):F("",!0)]),s("div",oe,[s("div",ae,[i(d(x),{class:"w-[26px] h-[26px] text-gray-600 pt-[2px] hover:text-black hover:cursor-pointer",name:"bell",onClick:e[3]||(e[3]=o=>d(y).push("/notifications"))})]),i(U)])])]),s("div",re,[s("div",le,[ce,s("div",ne,[(u(!0),n(C,null,$(a.value,o=>(u(),n("div",{key:o.doctype,class:"border-gray-200 border-b-[1.5px]"},[s("div",{class:"p-2 flex pt-2 touchable",onClick:g=>z(o)},[i(d(x),{name:"link",class:"text-gray-600 h-5 w-5"}),s("p",de,b(o.doctype),1),s("div",{class:"ml-auto touchable",onClick:B(g=>N(o),["stop"])},[i(d(x),{name:"plus",class:"text-gray-600 h-5 w-5 hover:text-black"})],8,ue)],8,ie)]))),128))])])]),r.value?(u(),n("div",pe,[s("div",ve,[s("div",me,[s("div",fe,[i(d(x),{name:"x",class:"inline w-6 h-6 mr-2 hover:cursor-pointer",onClick:E})]),s("span",{innerHTML:c.value},null,8,he)])])])):F("",!0)])]))}},$e=S(_e,[["__scopeId","data-v-92473dfa"]]);export{$e as default};
